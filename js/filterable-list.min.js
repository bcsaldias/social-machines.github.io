function createFilterableList(t){function e(){l(),n()}function n(){r(),i()}function r(){A.selectAll(".filter-tag-item").classed("active",function(t){return k.includes(t)}).classed("teal",function(t){return k.includes(t)})}function i(){var t=b.selectAll(".filtered-list-group").data(f,function(t){return t.key});t.exit().remove();var e=t.enter().append("div").attr("class","filtered-list-group");e.append("h3").attr("class","ui header").text(function(t){return"__null"===t.key?"Other":t.key});e.append("ul").attr("class","filtered-list-group-list "+(g||""));var n=e.merge(t).select("ul").selectAll(".filtered-list-item").data(function(t){return t.values},function(t){return t.id});n.exit().remove(),n.enter().append("li").attr("class","filtered-list-item").merge(n).html(y)}function l(){s=p.filter(a).filter(u),f=d3.nest().key(function(t){return null==t[h]?"__null":t[h]}).entries(s).sort(function(t,e){return e.key-t.key})}function a(t){if(!k.length)return!0;var e=t[v];Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;++n)for(var r=e[n],i=0;i<k.length;++i)if(r===k[i])return!0;return!1}function u(t){if(!m.trim().length)return!0;var e=["html","id"];return Object.keys(t).filter(function(t){return!e.includes(t)}).map(function(e){return t[e]}).join("\n").toLowerCase().includes(m.trim().toLowerCase())}function c(t){m=t,e()}var s,f,o=t.rootSelector,d=t.title,p=t.data,v=t.tagKey,h=t.groupBy,y=t.renderItem,g=t.listClass,m="",k=[],x=d3.select(o);x.append("h1").attr("class","ui header").text(d);x.append("div").attr("class","ui input").append("input").attr("type","text").attr("class","filter-input").on("change keyup",function(){c(this.value)});var A=x.append("div").attr("class","filter-tags"),O=function(){var t={};return p.forEach(function(e){var n=e[v];null!=n&&(Array.isArray(n)?n.forEach(function(e){t[e]=!0}):t[n]=!0)}),Object.keys(t)}();A.selectAll("a").data(O).enter().append("a").attr("class","filter-tag-item ui label").on("click",function(t){-1!==k.indexOf(t)?k.splice(k.indexOf(t),1):k.push(t),e()}).classed("active",function(t){return k.includes(t)}).classed("teal",function(t){return k.includes(t)}).text(function(t){return t});var b=x.append("div").attr("class","filtered-list");e()}function clearData(t){d3.select(t).html("")}
